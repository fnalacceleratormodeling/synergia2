var data = {lines:[
{"lineNum":"    1","line":"#include <cstring>"},
{"lineNum":"    2","line":"#include <stdexcept>"},
{"lineNum":"    3","line":"#include <omp.h>"},
{"lineNum":"    4","line":"#include \"distributed_fft3d_rect.h\""},
{"lineNum":"    5","line":""},
{"lineNum":"    6","line":"Distributed_fft3d_rect::Distributed_fft3d_rect()"},
{"lineNum":"    7","line":"    : Distributed_fft3d_rect_base()"},
{"lineNum":"    8","line":"    , plan_xy(nullptr)"},
{"lineNum":"    9","line":"    , plan_z(nullptr)","class":"lineNoCov","hits":"0","possible_hits":"1",},
{"lineNum":"   10","line":"    , inv_plan_xy(nullptr)"},
{"lineNum":"   11","line":"    , inv_plan_z(nullptr)"},
{"lineNum":"   12","line":"    , data(nullptr)"},
{"lineNum":"   13","line":"    , workspace(nullptr)"},
{"lineNum":"   14","line":"{","class":"lineNoCov","hits":"0","possible_hits":"2",},
{"lineNum":"   15","line":"    fftw_init_threads();","class":"lineNoCov","hits":"0","possible_hits":"1",},
{"lineNum":"   16","line":"    fftw_mpi_init();","class":"lineNoCov","hits":"0","possible_hits":"1",},
{"lineNum":"   17","line":"    fftw_plan_with_nthreads(omp_get_max_threads());","class":"lineNoCov","hits":"0","possible_hits":"1",},
{"lineNum":"   18","line":"}","class":"lineNoCov","hits":"0","possible_hits":"1",},
{"lineNum":"   19","line":""},
{"lineNum":"   20","line":"void"},
{"lineNum":"   21","line":"Distributed_fft3d_rect::construct("},
{"lineNum":"   22","line":"        std::array<int, 3> const & new_shape,"},
{"lineNum":"   23","line":"        Commxx const& new_comm)"},
{"lineNum":"   24","line":"{","class":"lineNoCov","hits":"0","possible_hits":"1",},
{"lineNum":"   25","line":"    if (data || workspace)","class":"lineNoCov","hits":"0","possible_hits":"1",},
{"lineNum":"   26","line":"    {"},
{"lineNum":"   27","line":"        fftw_destroy_plan(plan_xy);","class":"lineNoCov","hits":"0","possible_hits":"1",},
{"lineNum":"   28","line":"        fftw_destroy_plan(plan_z);","class":"lineNoCov","hits":"0","possible_hits":"1",},
{"lineNum":"   29","line":"        fftw_destroy_plan(inv_plan_xy);","class":"lineNoCov","hits":"0","possible_hits":"1",},
{"lineNum":"   30","line":"        fftw_destroy_plan(inv_plan_z);","class":"lineNoCov","hits":"0","possible_hits":"1",},
{"lineNum":"   31","line":"        fftw_free(data);","class":"lineNoCov","hits":"0","possible_hits":"1",},
{"lineNum":"   32","line":"        fftw_free(workspace);","class":"lineNoCov","hits":"0","possible_hits":"1",},
{"lineNum":"   33","line":"    }"},
{"lineNum":"   34","line":""},
{"lineNum":"   35","line":"    plan_xy = nullptr;"},
{"lineNum":"   36","line":"    plan_z = nullptr;","class":"lineNoCov","hits":"0","possible_hits":"1",},
{"lineNum":"   37","line":"    inv_plan_xy = nullptr;"},
{"lineNum":"   38","line":"    inv_plan_z = nullptr;"},
{"lineNum":"   39","line":""},
{"lineNum":"   40","line":"    data = nullptr;"},
{"lineNum":"   41","line":"    workspace = nullptr;"},
{"lineNum":"   42","line":""},
{"lineNum":"   43","line":"    if (new_comm.is_null())","class":"lineNoCov","hits":"0","possible_hits":"1",},
{"lineNum":"   44","line":"        return;"},
{"lineNum":"   45","line":""},
{"lineNum":"   46","line":"    if (new_comm.size() > new_shape[0])","class":"lineNoCov","hits":"0","possible_hits":"1",},
{"lineNum":"   47","line":"    {"},
{"lineNum":"   48","line":"        throw std::runtime_error(","class":"lineNoCov","hits":"0","possible_hits":"1",},
{"lineNum":"   49","line":"                \"Distributed_fft3d_rect: (number of processors) must be \""},
{"lineNum":"   50","line":"                \"<= shape[0]\");"},
{"lineNum":"   51","line":"    }"},
{"lineNum":"   52","line":""},
{"lineNum":"   53","line":"    shape = new_shape;","class":"lineNoCov","hits":"0","possible_hits":"1",},
{"lineNum":"   54","line":"    comm = new_comm;"},
{"lineNum":"   55","line":""},
{"lineNum":"   56","line":"    const ptrdiff_t ndim_xy[] = {shape[0], shape[1]};","class":"lineNoCov","hits":"0","possible_hits":"1",},
{"lineNum":"   57","line":"    const int ndim_z[]  = {shape[2]};","class":"lineNoCov","hits":"0","possible_hits":"1",},
{"lineNum":"   58","line":"    ptrdiff_t local_n, local_start;"},
{"lineNum":"   59","line":""},
{"lineNum":"   60","line":"    ptrdiff_t fftw_local_size = fftw_mpi_local_size_many(","class":"lineNoCov","hits":"0","possible_hits":"1",},
{"lineNum":"   61","line":"            2, ndim_xy, shape[2], FFTW_MPI_DEFAULT_BLOCK,"},
{"lineNum":"   62","line":"            comm, &local_n, &local_start);"},
{"lineNum":"   63","line":""},
{"lineNum":"   64","line":"    lower = local_start;","class":"lineNoCov","hits":"0","possible_hits":"1",},
{"lineNum":"   65","line":"    nx = local_n;","class":"lineNoCov","hits":"0","possible_hits":"1",},
{"lineNum":"   66","line":""},
{"lineNum":"   67","line":"    // plans for x-y DST"},
{"lineNum":"   68","line":"    data = (double*)fftw_malloc(sizeof(double) * fftw_local_size);","class":"lineNoCov","hits":"0","possible_hits":"1",},
{"lineNum":"   69","line":""},
{"lineNum":"   70","line":"    fftw_r2r_kind kind_direct[] = {FFTW_RODFT10, FFTW_RODFT10};","class":"lineNoCov","hits":"0","possible_hits":"1",},
{"lineNum":"   71","line":"    plan_xy = fftw_mpi_plan_many_r2r(","class":"lineNoCov","hits":"0","possible_hits":"1",},
{"lineNum":"   72","line":"            2, ndim_xy, shape[2],","class":"lineNoCov","hits":"0","possible_hits":"1",},
{"lineNum":"   73","line":"            FFTW_MPI_DEFAULT_BLOCK,"},
{"lineNum":"   74","line":"            FFTW_MPI_DEFAULT_BLOCK,"},
{"lineNum":"   75","line":"            data, data, comm, kind_direct,"},
{"lineNum":"   76","line":"            //FFTW_EXHAUSTIVE);"},
{"lineNum":"   77","line":"            FFTW_ESTIMATE);"},
{"lineNum":"   78","line":""},
{"lineNum":"   79","line":"    fftw_r2r_kind kind_inv[] = {FFTW_RODFT01, FFTW_RODFT01};","class":"lineNoCov","hits":"0","possible_hits":"1",},
{"lineNum":"   80","line":"    inv_plan_xy = fftw_mpi_plan_many_r2r(","class":"lineNoCov","hits":"0","possible_hits":"1",},
{"lineNum":"   81","line":"            2, ndim_xy, shape[2],","class":"lineNoCov","hits":"0","possible_hits":"1",},
{"lineNum":"   82","line":"            FFTW_MPI_DEFAULT_BLOCK,"},
{"lineNum":"   83","line":"            FFTW_MPI_DEFAULT_BLOCK,"},
{"lineNum":"   84","line":"            data, data, comm, kind_inv,","class":"lineNoCov","hits":"0","possible_hits":"1",},
{"lineNum":"   85","line":"            //FFTW_EXHAUSTIVE);"},
{"lineNum":"   86","line":"            FFTW_ESTIMATE);"},
{"lineNum":"   87","line":""},
{"lineNum":"   88","line":"    // plans for z DFT (r to c)"},
{"lineNum":"   89","line":"    int padded_cplx_s2 = get_padded_shape_cplx(shape[2]);","class":"lineNoCov","hits":"0","possible_hits":"1",},
{"lineNum":"   90","line":"    int local_size_cplx = local_n * shape[1] * padded_cplx_s2;","class":"lineNoCov","hits":"0","possible_hits":"3",},
{"lineNum":"   91","line":""},
{"lineNum":"   92","line":"    workspace = (fftw_complex*)fftw_malloc(","class":"lineNoCov","hits":"0","possible_hits":"1",},
{"lineNum":"   93","line":"            sizeof(fftw_complex) * local_size_cplx);","class":"lineNoCov","hits":"0","possible_hits":"1",},
{"lineNum":"   94","line":""},
{"lineNum":"   95","line":"    plan_z = fftw_plan_many_dft_r2c(","class":"lineNoCov","hits":"0","possible_hits":"1",},
{"lineNum":"   96","line":"            1, ndim_z, nx*shape[1],   // rank, ndim, howmany","class":"lineNoCov","hits":"0","possible_hits":"2",},
{"lineNum":"   97","line":"            data, NULL, 1, shape[2],  // in, inembed, stride, dist","class":"lineNoCov","hits":"0","possible_hits":"2",},
{"lineNum":"   98","line":"            workspace, NULL, 1, padded_cplx_s2,"},
{"lineNum":"   99","line":"            FFTW_ESTIMATE);"},
{"lineNum":"  100","line":""},
{"lineNum":"  101","line":"    inv_plan_z = fftw_plan_many_dft_c2r(","class":"lineNoCov","hits":"0","possible_hits":"1",},
{"lineNum":"  102","line":"            1, ndim_z, nx*shape[1],   // rank, ndim, howmany","class":"lineNoCov","hits":"0","possible_hits":"2",},
{"lineNum":"  103","line":"            workspace, NULL, 1, padded_cplx_s2,","class":"lineNoCov","hits":"0","possible_hits":"1",},
{"lineNum":"  104","line":"            data, NULL, 1, shape[2],  // in, inembed, stride, dist","class":"lineNoCov","hits":"0","possible_hits":"1",},
{"lineNum":"  105","line":"            FFTW_ESTIMATE);"},
{"lineNum":"  106","line":"}","class":"lineNoCov","hits":"0","possible_hits":"1",},
{"lineNum":"  107","line":""},
{"lineNum":"  108","line":""},
{"lineNum":"  109","line":"void"},
{"lineNum":"  110","line":"Distributed_fft3d_rect::transform("},
{"lineNum":"  111","line":"        karray1d_dev & in,"},
{"lineNum":"  112","line":"        karray1d_dev & out)"},
{"lineNum":"  113","line":"{","class":"lineNoCov","hits":"0","possible_hits":"1",},
{"lineNum":"  114","line":"    if (!data || !workspace)","class":"lineNoCov","hits":"0","possible_hits":"1",},
{"lineNum":"  115","line":"        throw std::runtime_error(","class":"lineNoCov","hits":"0","possible_hits":"1",},
{"lineNum":"  116","line":"                \"Distributed_fft3d_rect::transform() uninitialized\" );"},
{"lineNum":"  117","line":""},
{"lineNum":"  118","line":"    int plane_yz_real = shape[1] * shape[2];","class":"lineNoCov","hits":"0","possible_hits":"2",},
{"lineNum":"  119","line":"    int plane_yz_cplx = shape[1] * (shape[2]/2+1);","class":"lineNoCov","hits":"0","possible_hits":"3",},
{"lineNum":"  120","line":""},
{"lineNum":"  121","line":"    memcpy((void*)data, (void*)&in(lower*plane_yz_real),","class":"lineNoCov","hits":"0","possible_hits":"3",},
{"lineNum":"  122","line":"            nx * plane_yz_real * sizeof(double));","class":"lineNoCov","hits":"0","possible_hits":"1",},
{"lineNum":"  123","line":""},
{"lineNum":"  124","line":"    fftw_execute(plan_xy);","class":"lineNoCov","hits":"0","possible_hits":"1",},
{"lineNum":"  125","line":"    fftw_execute(plan_z);","class":"lineNoCov","hits":"0","possible_hits":"1",},
{"lineNum":"  126","line":""},
{"lineNum":"  127","line":"    memcpy((void*)&out(lower*plane_yz_cplx*2), (void*)workspace,","class":"lineNoCov","hits":"0","possible_hits":"3",},
{"lineNum":"  128","line":"            nx * plane_yz_cplx * sizeof(double) * 2 );","class":"lineNoCov","hits":"0","possible_hits":"2",},
{"lineNum":"  129","line":"}"},
{"lineNum":"  130","line":""},
{"lineNum":"  131","line":"void"},
{"lineNum":"  132","line":"Distributed_fft3d_rect::inv_transform("},
{"lineNum":"  133","line":"        karray1d_dev & in,"},
{"lineNum":"  134","line":"        karray1d_dev & out)"},
{"lineNum":"  135","line":"{","class":"lineNoCov","hits":"0","possible_hits":"1",},
{"lineNum":"  136","line":"    if (!data || !workspace)","class":"lineNoCov","hits":"0","possible_hits":"1",},
{"lineNum":"  137","line":"        throw std::runtime_error(","class":"lineNoCov","hits":"0","possible_hits":"1",},
{"lineNum":"  138","line":"                \"Distributed_fft3d_rect::transform() uninitialized\" );"},
{"lineNum":"  139","line":""},
{"lineNum":"  140","line":"    int plane_yz_real = shape[1] * shape[2];","class":"lineNoCov","hits":"0","possible_hits":"2",},
{"lineNum":"  141","line":"    int plane_yz_cplx = shape[1] * (shape[2]/2+1);","class":"lineNoCov","hits":"0","possible_hits":"1",},
{"lineNum":"  142","line":""},
{"lineNum":"  143","line":"    memcpy((void*)workspace, (void*)&in(lower*plane_yz_cplx*2),","class":"lineNoCov","hits":"0","possible_hits":"2",},
{"lineNum":"  144","line":"            nx * plane_yz_cplx * sizeof(double) * 2 );","class":"lineNoCov","hits":"0","possible_hits":"2",},
{"lineNum":"  145","line":""},
{"lineNum":"  146","line":"    fftw_execute(inv_plan_z);","class":"lineNoCov","hits":"0","possible_hits":"1",},
{"lineNum":"  147","line":"    fftw_execute(inv_plan_xy);","class":"lineNoCov","hits":"0","possible_hits":"1",},
{"lineNum":"  148","line":""},
{"lineNum":"  149","line":"    memcpy((void*)&out(lower*plane_yz_real), (void*)data,","class":"lineNoCov","hits":"0","possible_hits":"4",},
{"lineNum":"  150","line":"            nx * plane_yz_real * sizeof(double));","class":"lineNoCov","hits":"0","possible_hits":"1",},
{"lineNum":"  151","line":"}"},
{"lineNum":"  152","line":""},
{"lineNum":"  153","line":"Distributed_fft3d_rect::~Distributed_fft3d_rect()"},
{"lineNum":"  154","line":"{","class":"lineNoCov","hits":"0","possible_hits":"4",},
{"lineNum":"  155","line":"    if (data || workspace)","class":"lineNoCov","hits":"0","possible_hits":"1",},
{"lineNum":"  156","line":"    {"},
{"lineNum":"  157","line":"        fftw_destroy_plan(plan_xy);","class":"lineNoCov","hits":"0","possible_hits":"1",},
{"lineNum":"  158","line":"        fftw_destroy_plan(plan_z);","class":"lineNoCov","hits":"0","possible_hits":"1",},
{"lineNum":"  159","line":"        fftw_destroy_plan(inv_plan_xy);","class":"lineNoCov","hits":"0","possible_hits":"1",},
{"lineNum":"  160","line":"        fftw_destroy_plan(inv_plan_z);","class":"lineNoCov","hits":"0","possible_hits":"1",},
{"lineNum":"  161","line":""},
{"lineNum":"  162","line":"        fftw_free(data);","class":"lineNoCov","hits":"0","possible_hits":"1",},
{"lineNum":"  163","line":"        fftw_free(workspace);","class":"lineNoCov","hits":"0","possible_hits":"1",},
{"lineNum":"  164","line":"    }"},
{"lineNum":"  165","line":""},
{"lineNum":"  166","line":"    //fftw_mpi_cleanup();"},
{"lineNum":"  167","line":"}","class":"lineNoCov","hits":"0","possible_hits":"1",},
{"lineNum":"  168","line":""},
{"lineNum":"  169","line":""},
]};
var percent_low = 25;var percent_high = 75;
var header = { "command" : "fodo_cxx", "date" : "2021-12-15 09:03:41", "instrumented" : 75, "covered" : 0,};
var merged_data = [];
